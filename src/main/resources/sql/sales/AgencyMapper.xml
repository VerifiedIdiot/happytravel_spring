<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="kr.happytravel.erp.sales.dao.AgencyDao">

    <!-- 전체 에이전시 목록 조회 -->
    <select id="getAgencyList" resultType="kr.happytravel.erp.sales.model.sales.AgencyModel" parameterType="hashmap">
        SELECT
        agency_code,
        agency_name,
        phone,
        country,
        region,
        address,
        price,
        is_used
        FROM
        TB_AGENCY_INFO
        ORDER BY
        agency_code
        <!-- LIMIT #{pageIndex}, #{pageSize} -->
    </select>

    <!-- 전체 목록 카운트 -->
    <select id="getAgencyCnt" resultType="int" parameterType="hashmap">
        SELECT COUNT(agency_code)
        FROM TB_AGENCY_INFO
    </select>

    <!-- 단건 조회 -->
    <select id="selectAgency" resultType="kr.happytravel.erp.sales.model.sales.AgencyModel">
        SELECT
        agency_code,
        agency_name,
        phone,
        country,
        region,
        address,
        price,
        is_used
        FROM
        TB_AGENCY_INFO
        WHERE
        agency_code = #{agency_code}
    </select>

    <!-- 신규 등록 -->
    <insert id="insertAgency">
        INSERT INTO TB_AGENCY_INFO (
        agency_code,
        agency_name,
        phone,
        country,
        region,
        address,
        price,
        is_used
        ) VALUES (
        #{agency_code},
        #{agency_name},
        #{phone},
        #{country},
        #{region},
        #{address},
        #{price},
        #{is_used}
        )
    </insert>

    <!-- 단건 수정 -->
    <update id="updateAgency">
        UPDATE TB_AGENCY_INFO
        SET
        agency_name = #{agency_name},
        phone = #{phone},
        country = #{country},
        region = #{region},
        address = #{address},
        price = #{price},
        is_used = #{is_used}
        WHERE
        agency_code = #{agency_code}
    </update>

    <!-- 단건 삭제 -->
    <delete id="deleteAgency">
        DELETE FROM TB_AGENCY_INFO
        WHERE
        agency_code = #{agency_code}
    </delete>

</mapper>
